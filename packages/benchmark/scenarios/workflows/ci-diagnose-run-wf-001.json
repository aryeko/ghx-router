{
  "type": "workflow",
  "id": "ci-diagnose-run-wf-001",
  "name": "Diagnose a failed CI workflow run",
  "prompt": "Workflow run {{runId}} in {{owner}}/{{name}} has failed. Get the run details to confirm its status and conclusion, identify which job failed, and fetch that job's logs to surface the top error lines.",
  "expected_capabilities": ["workflow.run.view", "workflow.job.logs.view"],
  "timeout_ms": 180000,
  "allowed_retries": 1,
  "fixture": {
    "repo": "aryeko/ghx-bench-fixtures",
    "bindings": {
      "input.owner": "repo.owner",
      "input.name": "repo.name",
      "input.runId": "resources.workflow_run.id"
    },
    "requires": ["workflow_run"]
  },
  "assertions": {
    "expected_outcome": "success",
    "checkpoints": [
      {
        "name": "run_viewed",
        "verification_task": "workflow.run.view",
        "verification_input": {},
        "condition": "non_empty"
      }
    ]
  },
  "tags": ["workflow", "ci", "diagnostics"]
}
