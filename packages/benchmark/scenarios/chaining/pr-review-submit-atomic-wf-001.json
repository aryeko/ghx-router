{
  "type": "workflow",
  "id": "pr-review-submit-atomic-wf-001",
  "name": "Atomically submit a PR comment review via chain",
  "prompt": "PR #{{prNumber}} in {{owner}}/{{name}} needs a review. Use a single ghx chain call with pr.reviews.submit to submit a COMMENT review with body 'Reviewed atomically via ghx chain.' Do not use ghx run â€” use ghx chain so the pullRequestId is resolved in one round-trip.",
  "expected_capabilities": ["pr.reviews.submit"],
  "timeout_ms": 180000,
  "allowed_retries": 1,
  "fixture": {
    "repo": "aryeko/ghx-bench-fixtures",
    "bindings": {
      "input.owner": "repo.owner",
      "input.name": "repo.name",
      "input.prNumber": "resources.pr.number"
    },
    "requires": ["pr"]
  },
  "assertions": {
    "expected_outcome": "success",
    "checkpoints": [
      {
        "name": "review_submitted",
        "verification_task": "pr.reviews.list",
        "verification_input": {},
        "condition": "non_empty"
      }
    ]
  },
  "tags": ["workflow", "chaining", "pr", "atomic"]
}
