capability_id: issue.update.composite
version: "1.0.0"
description: "Update issue fields, labels, assignees, and milestone in a single batched call. Provide only the fields you want to change. Requires the issue's node ID (from issue.view)."
input_schema:
  type: object
  required: [issueId]
  properties:
    issueId:
      type: string
      minLength: 1
    title:
      type: string
    body:
      type: string
    labels:
      type: array
      items:
        type: string
        minLength: 1
    assignees:
      type: array
      items:
        type: string
        minLength: 1
    milestoneNumber:
      type: [integer, "null"]
  additionalProperties: false
output_schema:
  type: object
  properties:
    id:
      type: string
    labels:
      type: array
      items:
        type: string
    assignees:
      type: array
      items:
        type: string
    milestoneNumber:
      type: [integer, "null"]
  additionalProperties: false
routing:
  preferred: graphql
  fallbacks: []
composite:
  steps:
    - capability_id: issue.update
      params_map:
        issueId: issueId
        title: title
        body: body
    - capability_id: issue.labels.update
      params_map:
        issueId: issueId
        labels: labels
    - capability_id: issue.assignees.update
      params_map:
        issueId: issueId
        assignees: assignees
    - capability_id: issue.milestone.set
      params_map:
        issueId: issueId
        milestoneNumber: milestoneNumber
  output_strategy: merge
